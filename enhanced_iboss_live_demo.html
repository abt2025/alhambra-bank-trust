<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alhambra Bank & Trust - Enhanced IBOSS Portfolio Tracker Live Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
        :root {
            --alhambra-maroon: #800020;
            --alhambra-red: #DC143C;
            --alhambra-light-red: #FF6B6B;
            --alhambra-dark-maroon: #5D001A;
            --alhambra-gold: #FFD700;
        }
        
        .alhambra-gradient {
            background: linear-gradient(135deg, var(--alhambra-maroon) 0%, var(--alhambra-red) 100%);
        }
        
        .alhambra-card {
            background: rgba(128, 0, 32, 0.05);
            border: 1px solid rgba(128, 0, 32, 0.2);
        }
        
        .alhambra-button {
            background: linear-gradient(135deg, var(--alhambra-maroon) 0%, var(--alhambra-red) 100%);
            transition: all 0.3s ease;
        }
        
        .alhambra-button:hover {
            background: linear-gradient(135deg, var(--alhambra-dark-maroon) 0%, var(--alhambra-maroon) 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(128, 0, 32, 0.3);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .alhambra-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--alhambra-maroon) 0%, var(--alhambra-red) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(128, 0, 32, 0.3);
        }
        
        .market-ticker {
            background: linear-gradient(90deg, transparent 0%, var(--alhambra-maroon) 50%, transparent 100%);
            animation: ticker 20s linear infinite;
        }
        
        @keyframes ticker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .mobile-responsive {
            transition: all 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .mobile-responsive {
                padding: 1rem;
                font-size: 0.9rem;
            }
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #00FF00;
            animation: blink 1.5s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header with Alhambra Branding -->
    <header class="alhambra-gradient text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="alhambra-logo">
                        <span>A</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">Alhambra Bank & Trust</h1>
                        <p class="text-sm opacity-90">Enhanced IBOSS Portfolio Tracker</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="status-indicator"></div>
                    <span class="text-sm">Live Market Data</span>
                    <div class="text-right">
                        <p class="text-sm">Account: 600043382145</p>
                        <p class="text-xs opacity-75">Follow-ups #1 & #2 Enhanced</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Real-Time Market Ticker -->
    <div class="bg-black text-white py-2 overflow-hidden">
        <div class="market-ticker whitespace-nowrap">
            <span class="inline-block px-8">
                <i class="fas fa-chart-line text-green-400"></i> AAPL: $175.43 (+2.1%) | 
                <i class="fas fa-chart-line text-green-400"></i> MSFT: $338.11 (+1.8%) | 
                <i class="fas fa-chart-line text-red-400"></i> GOOGL: $2,739.04 (-0.5%) | 
                <i class="fas fa-chart-line text-green-400"></i> AMZN: $3,201.20 (+3.2%) | 
                <i class="fas fa-chart-line text-green-400"></i> TSLA: $248.50 (+4.7%) | 
                <i class="fas fa-chart-line text-green-400"></i> NVDA: $436.58 (+2.9%)
            </span>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="container mx-auto px-4 py-6 mobile-responsive">
        <!-- Demo Controls -->
        <div class="alhambra-card rounded-lg p-6 mb-6 fade-in">
            <div class="flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">
                        <i class="fas fa-rocket text-red-600"></i>
                        Enhanced IBOSS Live Demo
                    </h2>
                    <p class="text-gray-600">Follow-up #1: Real-Time Market Data | Follow-up #2: Mobile-Responsive UI/UX</p>
                </div>
                <div class="flex space-x-4">
                    <button onclick="refreshMarketData()" class="alhambra-button text-white px-6 py-3 rounded-lg font-semibold">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh Data
                    </button>
                    <button onclick="toggleMobileView()" class="alhambra-button text-white px-6 py-3 rounded-lg font-semibold">
                        <i class="fas fa-mobile-alt mr-2"></i>Mobile View
                    </button>
                </div>
            </div>
        </div>

        <!-- Portfolio Overview Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="alhambra-card rounded-lg p-6 slide-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">Total Portfolio Value</p>
                        <p class="text-3xl font-bold" style="color: var(--alhambra-maroon);" id="totalValue">$1,247,850.75</p>
                        <p class="text-sm text-green-600 mt-1">
                            <i class="fas fa-arrow-up"></i> +$18,420.50 (1.5%) today
                        </p>
                    </div>
                    <div class="alhambra-logo text-lg">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                </div>
            </div>

            <div class="alhambra-card rounded-lg p-6 slide-in" style="animation-delay: 0.1s;">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">Available Cash</p>
                        <p class="text-3xl font-bold" style="color: var(--alhambra-maroon);" id="availableCash">$47,250.25</p>
                        <p class="text-sm text-blue-600 mt-1">
                            <i class="fas fa-wallet"></i> Ready to invest
                        </p>
                    </div>
                    <div class="alhambra-logo text-lg">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                </div>
            </div>

            <div class="alhambra-card rounded-lg p-6 slide-in" style="animation-delay: 0.2s;">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">Day's Gain/Loss</p>
                        <p class="text-3xl font-bold text-green-600" id="dayGainLoss">+$12,847.30</p>
                        <p class="text-sm text-green-600 mt-1">
                            <i class="fas fa-trending-up"></i> +1.04% performance
                        </p>
                    </div>
                    <div class="alhambra-logo text-lg">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
            </div>

            <div class="alhambra-card rounded-lg p-6 slide-in" style="animation-delay: 0.3s;">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">AI Risk Score</p>
                        <p class="text-3xl font-bold" style="color: var(--alhambra-red);" id="riskScore">7.2/10</p>
                        <p class="text-sm text-yellow-600 mt-1">
                            <i class="fas fa-shield-alt"></i> Moderate Risk
                        </p>
                    </div>
                    <div class="alhambra-logo text-lg">
                        <i class="fas fa-brain"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Market Data Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Real-Time Portfolio Performance Chart -->
            <div class="alhambra-card rounded-lg p-6 fade-in">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-bold text-gray-800">
                        <i class="fas fa-chart-area" style="color: var(--alhambra-maroon);"></i>
                        Real-Time Performance
                    </h3>
                    <div class="flex items-center space-x-2">
                        <div class="status-indicator"></div>
                        <span class="text-sm text-gray-600">Live Updates</span>
                    </div>
                </div>
                <canvas id="performanceChart" width="400" height="200"></canvas>
            </div>

            <!-- AI-Powered Market Insights -->
            <div class="alhambra-card rounded-lg p-6 fade-in">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-robot" style="color: var(--alhambra-red);"></i>
                    AI Market Insights
                </h3>
                <div class="space-y-4">
                    <div class="glass-effect rounded-lg p-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-3 h-3 bg-green-500 rounded-full pulse-animation"></div>
                            <div>
                                <p class="font-semibold text-green-700">Bullish Signal Detected</p>
                                <p class="text-sm text-gray-600">Technology sector showing strong momentum</p>
                            </div>
                        </div>
                    </div>
                    <div class="glass-effect rounded-lg p-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-3 h-3 bg-yellow-500 rounded-full pulse-animation"></div>
                            <div>
                                <p class="font-semibold text-yellow-700">Rebalancing Opportunity</p>
                                <p class="text-sm text-gray-600">Consider increasing international exposure</p>
                            </div>
                        </div>
                    </div>
                    <div class="glass-effect rounded-lg p-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-3 h-3 bg-blue-500 rounded-full pulse-animation"></div>
                            <div>
                                <p class="font-semibold text-blue-700">ESG Score Improvement</p>
                                <p class="text-sm text-gray-600">Portfolio ESG rating increased to A-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile-Responsive Holdings Table -->
        <div class="alhambra-card rounded-lg p-6 mb-8 fade-in">
            <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 md:mb-0">
                    <i class="fas fa-list" style="color: var(--alhambra-maroon);"></i>
                    Portfolio Holdings
                </h3>
                <div class="flex space-x-2">
                    <button class="alhambra-button text-white px-4 py-2 rounded-lg text-sm">
                        <i class="fas fa-download mr-2"></i>Export
                    </button>
                    <button class="alhambra-button text-white px-4 py-2 rounded-lg text-sm">
                        <i class="fas fa-cog mr-2"></i>Settings
                    </button>
                </div>
            </div>
            
            <!-- Mobile-Optimized Table -->
            <div class="overflow-x-auto">
                <table class="w-full" id="holdingsTable">
                    <thead>
                        <tr class="border-b-2" style="border-color: var(--alhambra-maroon);">
                            <th class="text-left py-3 px-4 font-semibold text-gray-700">Symbol</th>
                            <th class="text-left py-3 px-4 font-semibold text-gray-700">Company</th>
                            <th class="text-right py-3 px-4 font-semibold text-gray-700">Shares</th>
                            <th class="text-right py-3 px-4 font-semibold text-gray-700">Price</th>
                            <th class="text-right py-3 px-4 font-semibold text-gray-700">Value</th>
                            <th class="text-right py-3 px-4 font-semibold text-gray-700">Change</th>
                            <th class="text-center py-3 px-4 font-semibold text-gray-700">Action</th>
                        </tr>
                    </thead>
                    <tbody id="holdingsBody">
                        <!-- Holdings will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Enhanced Analytics Dashboard -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            <!-- Asset Allocation Chart -->
            <div class="alhambra-card rounded-lg p-6 fade-in">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-chart-pie" style="color: var(--alhambra-red);"></i>
                    Asset Allocation
                </h3>
                <canvas id="allocationChart" width="300" height="300"></canvas>
            </div>

            <!-- Performance Metrics -->
            <div class="alhambra-card rounded-lg p-6 fade-in">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-tachometer-alt" style="color: var(--alhambra-maroon);"></i>
                    Performance Metrics
                </h3>
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">1 Month Return</span>
                        <span class="font-bold text-green-600">+3.2%</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">3 Month Return</span>
                        <span class="font-bold text-green-600">+8.7%</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">YTD Return</span>
                        <span class="font-bold text-green-600">+15.4%</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">Sharpe Ratio</span>
                        <span class="font-bold" style="color: var(--alhambra-maroon);">1.42</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">Beta</span>
                        <span class="font-bold" style="color: var(--alhambra-red);">1.15</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-600">Max Drawdown</span>
                        <span class="font-bold text-red-600">-4.2%</span>
                    </div>
                </div>
            </div>

            <!-- AI Recommendations -->
            <div class="alhambra-card rounded-lg p-6 fade-in">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-lightbulb" style="color: var(--alhambra-gold);"></i>
                    AI Recommendations
                </h3>
                <div class="space-y-4">
                    <div class="glass-effect rounded-lg p-3">
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-arrow-up text-green-500 mt-1"></i>
                            <div>
                                <p class="font-semibold text-sm">Increase Tech Allocation</p>
                                <p class="text-xs text-gray-600">AI suggests 5% increase in technology sector</p>
                            </div>
                        </div>
                    </div>
                    <div class="glass-effect rounded-lg p-3">
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-balance-scale text-blue-500 mt-1"></i>
                            <div>
                                <p class="font-semibold text-sm">Rebalance Portfolio</p>
                                <p class="text-xs text-gray-600">Optimal rebalancing due in 3 days</p>
                            </div>
                        </div>
                    </div>
                    <div class="glass-effect rounded-lg p-3">
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-leaf text-green-500 mt-1"></i>
                            <div>
                                <p class="font-semibold text-sm">ESG Opportunity</p>
                                <p class="text-xs text-gray-600">Consider sustainable energy ETF</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile-Responsive Action Buttons -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <button onclick="runAIOptimization()" class="alhambra-button text-white py-4 px-6 rounded-lg font-semibold text-center">
                <i class="fas fa-brain mr-2"></i>
                Run AI Optimization
            </button>
            <button onclick="generateReport()" class="alhambra-button text-white py-4 px-6 rounded-lg font-semibold text-center">
                <i class="fas fa-file-alt mr-2"></i>
                Generate Report
            </button>
            <button onclick="contactAdvisor()" class="alhambra-button text-white py-4 px-6 rounded-lg font-semibold text-center">
                <i class="fas fa-user-tie mr-2"></i>
                Contact Advisor
            </button>
        </div>

        <!-- Demo Status Footer -->
        <div class="alhambra-card rounded-lg p-6 fade-in">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <div>
                    <h4 class="font-bold text-gray-800 mb-2">Enhanced IBOSS Demo Status</h4>
                    <div class="flex flex-wrap gap-4 text-sm">
                        <span class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            Real-Time Market Data Integration
                        </span>
                        <span class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            Mobile-Responsive UI/UX
                        </span>
                        <span class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            AI-Powered Analytics
                        </span>
                        <span class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            Alhambra Branding
                        </span>
                    </div>
                </div>
                <div class="mt-4 md:mt-0 text-right">
                    <p class="text-sm text-gray-600">Last Updated: <span id="lastUpdated"></span></p>
                    <p class="text-xs text-gray-500">Account: 600043382145 | User: awm@awmga.com</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample portfolio data
        const portfolioData = [
            { symbol: 'AAPL', company: 'Apple Inc.', shares: 150, price: 175.43, change: 2.1 },
            { symbol: 'MSFT', company: 'Microsoft Corp.', shares: 100, price: 338.11, change: 1.8 },
            { symbol: 'GOOGL', company: 'Alphabet Inc.', shares: 25, price: 2739.04, change: -0.5 },
            { symbol: 'AMZN', company: 'Amazon.com Inc.', shares: 30, price: 3201.20, change: 3.2 },
            { symbol: 'TSLA', company: 'Tesla Inc.', shares: 75, price: 248.50, change: 4.7 },
            { symbol: 'NVDA', company: 'NVIDIA Corp.', shares: 50, price: 436.58, change: 2.9 },
            { symbol: 'META', company: 'Meta Platforms', shares: 80, price: 298.75, change: 1.4 },
            { symbol: 'BRK.B', company: 'Berkshire Hathaway', shares: 40, price: 354.20, change: 0.8 }
        ];

        // Initialize the demo
        document.addEventListener('DOMContentLoaded', function() {
            updateLastUpdated();
            populateHoldingsTable();
            createPerformanceChart();
            createAllocationChart();
            startRealTimeUpdates();
        });

        function updateLastUpdated() {
            document.getElementById('lastUpdated').textContent = new Date().toLocaleString();
        }

        function populateHoldingsTable() {
            const tbody = document.getElementById('holdingsBody');
            tbody.innerHTML = '';

            portfolioData.forEach((holding, index) => {
                const value = holding.shares * holding.price;
                const changeClass = holding.change >= 0 ? 'text-green-600' : 'text-red-600';
                const changeIcon = holding.change >= 0 ? 'fa-arrow-up' : 'fa-arrow-down';

                const row = document.createElement('tr');
                row.className = 'border-b hover:bg-gray-50 transition-colors duration-200';
                row.innerHTML = `
                    <td class="py-3 px-4 font-semibold" style="color: var(--alhambra-maroon);">${holding.symbol}</td>
                    <td class="py-3 px-4 text-gray-700">${holding.company}</td>
                    <td class="py-3 px-4 text-right">${holding.shares.toLocaleString()}</td>
                    <td class="py-3 px-4 text-right">$${holding.price.toFixed(2)}</td>
                    <td class="py-3 px-4 text-right font-semibold">$${value.toLocaleString('en-US', {minimumFractionDigits: 2})}</td>
                    <td class="py-3 px-4 text-right ${changeClass}">
                        <i class="fas ${changeIcon} mr-1"></i>${Math.abs(holding.change).toFixed(1)}%
                    </td>
                    <td class="py-3 px-4 text-center">
                        <button class="alhambra-button text-white px-3 py-1 rounded text-xs">
                            <i class="fas fa-chart-line mr-1"></i>View
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function createPerformanceChart() {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(128, 0, 32, 0.3)');
            gradient.addColorStop(1, 'rgba(128, 0, 32, 0.05)');

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['9:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '1:00', '1:30', '2:00', '2:30', '3:00'],
                    datasets: [{
                        label: 'Portfolio Value',
                        data: [1229430, 1235680, 1242150, 1238920, 1245780, 1247850, 1244320, 1249180, 1251640, 1247850, 1250420, 1247850],
                        borderColor: '#800020',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#DC143C',
                        pointBorderColor: '#800020',
                        pointBorderWidth: 2,
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return '$' + (value / 1000).toFixed(0) + 'K';
                                }
                            }
                        }
                    }
                }
            });
        }

        function createAllocationChart() {
            const ctx = document.getElementById('allocationChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Technology', 'Healthcare', 'Financial', 'Consumer', 'Energy', 'Other'],
                    datasets: [{
                        data: [35, 20, 15, 12, 8, 10],
                        backgroundColor: [
                            '#800020',
                            '#DC143C',
                            '#FF6B6B',
                            '#5D001A',
                            '#FFD700',
                            '#B8860B'
                        ],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        function startRealTimeUpdates() {
            setInterval(() => {
                // Simulate real-time updates
                const totalValueElement = document.getElementById('totalValue');
                const currentValue = parseFloat(totalValueElement.textContent.replace(/[$,]/g, ''));
                const change = (Math.random() - 0.5) * 1000;
                const newValue = currentValue + change;
                totalValueElement.textContent = '$' + newValue.toLocaleString('en-US', {minimumFractionDigits: 2});
                
                updateLastUpdated();
            }, 5000);
        }

        function refreshMarketData() {
            // Simulate market data refresh
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Refreshing...';
            button.disabled = true;

            setTimeout(() => {
                // Update random values
                portfolioData.forEach(holding => {
                    holding.price += (Math.random() - 0.5) * 5;
                    holding.change = (Math.random() - 0.5) * 10;
                });
                
                populateHoldingsTable();
                updateLastUpdated();
                
                button.innerHTML = originalText;
                button.disabled = false;
                
                // Show success message
                showNotification('Market data refreshed successfully!', 'success');
            }, 2000);
        }

        function toggleMobileView() {
            const container = document.querySelector('.container');
            container.classList.toggle('max-w-md');
            container.classList.toggle('mx-auto');
            
            showNotification('Mobile view toggled!', 'info');
        }

        function runAIOptimization() {
            showNotification('AI optimization started...', 'info');
            
            setTimeout(() => {
                showNotification('AI optimization completed! Check recommendations panel.', 'success');
            }, 3000);
        }

        function generateReport() {
            showNotification('Generating comprehensive portfolio report...', 'info');
            
            setTimeout(() => {
                showNotification('Report generated successfully!', 'success');
            }, 2000);
        }

        function contactAdvisor() {
            showNotification('Connecting you with your financial advisor...', 'info');
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 
                'bg-blue-500'
            } text-white`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas ${
                        type === 'success' ? 'fa-check-circle' : 
                        type === 'error' ? 'fa-exclamation-circle' : 
                        'fa-info-circle'
                    } mr-2"></i>
                    ${message}
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Add touch gestures for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleGesture();
        });

        function handleGesture() {
            if (touchEndX < touchStartX - 50) {
                // Swipe left - could trigger next view
                console.log('Swipe left detected');
            }
            if (touchEndX > touchStartX + 50) {
                // Swipe right - could trigger previous view
                console.log('Swipe right detected');
            }
        }
    </script>
</body>
</html>
